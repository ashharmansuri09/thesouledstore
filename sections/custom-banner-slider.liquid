{% comment %}
  ðŸ§© Custom Banner Slider
  - Mobile first approach
  - Mobile image shown by default (<768px)
  - Desktop image shown when screen â‰¥768px
{% endcomment %}
{% style %}
     #banner-slider-{{ section.id }}{
      position: relative;
     }
  .banner-slider-link{
    display: block;
  }
{% endstyle %}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
{% liquid
    assign main_title = section.settings.title
%}

<section id="banner-slider-{{ section.id }}" class="banner-slider">
  <div class="page-width-full">
    {% if main_title != blank %}
      <h2 class="main-title text_center {{ section.settings.heading_size }}">{{ main_title }}</h2>
    {% endif %}
    <div class="swiper mySwiper-{{ section.id }}">
      <div class="swiper-wrapper">
        {% for block in section.blocks %}
          {% liquid
            assign block_image = block.settings.image_desktop | image_url: width:1920
            assign block_image_mobile = block.settings.image_mobile | image_url: width:768
            assign block_alt_text = block.settings.alt_text
            assign block_link = block.settings.link
          %}
          <a href="{{ block_link }}" class="swiper-slide banner-slider-link">
            {% if block_image or block_image_mobile %}
              <picture>
                {%- comment -%}
                  âœ… Mobile first:
                  - Default <img> = mobile image
                  - Source with media="(min-width:768px)" = desktop override
                {%- endcomment -%}

                {% if block_image != blank %}
                  <source
                    media="(min-width: 768px)"
                    srcset="{{ block_image }}"
                  >
                {% endif %}

                <img
                  src="
                    {% if block_image_mobile != blank %}
                    {{ block_image_mobile }}
                     {% else %}
                      {{ block_image }}
                       {% endif %}
                  "
                  alt="{{ block_alt_text | escape }}"
                  loading="lazy"
                  width=""
                  height=""
                >
              </picture>
            {% endif %}
          </a>
        {% endfor %}
      </div>

      <!-- Navigation + Pagination -->
      <div class="swiper-button-next"></div>
      <div class="swiper-button-prev"></div>
      <div class="swiper-pagination"></div>
    </div>
  </div>
</section>

<!-- Swiper JS -->
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js" defer></script>

<!-- Initialize Swiper -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    new Swiper('.mySwiper-{{ section.id }}', {
      loop: true,
      autoplay: { delay: 4000 },
      pagination: {
        el: '#banner-slider-{{ section.id }} .swiper-pagination',
        clickable: true,
      },
      navigation: {
        nextEl: '#banner-slider-{{ section.id }} .swiper-button-next',
        prevEl: '#banner-slider-{{ section.id }} .swiper-button-prev',
      },
      speed: 800,
    });
  });
</script>

<style>
  /* === Banner Slider Styles === */
  #banner-slider-{{ section.id }} .banner-slider {
    position: relative;
    width: 100%;
    overflow: hidden;
  }

  #banner-slider-{{ section.id }} .swiper {
    width: 100%;
    height: 100%;
  }

  #banner-slider-{{ section.id }} .swiper-slide {
    text-align: center;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  #banner-slider-{{ section.id }} .swiper-slide picture,
  #banner-slider-{{ section.id }} .swiper-slide img {
    width: 100%;
    height: auto;
    object-fit: cover;
    display: block;
  }

  /* Pagination */
  #banner-slider-{{ section.id }} .swiper-pagination-bullet {
    background: rgba(255, 255, 255, 0.7);
    opacity: 1;
  }


</style>

{% schema %}
{
  "name": "Custom Banner Slider",
  "settings": [
    {
     
      "type": "inline_richtext",
      "id": "title",
     "label":"Main Title",
     "default":"Style by nature"
    },
    {
      "type": "select",
      "id": "heading_size",
      "options": [
        {
          "value": "h2",
          "label": "t:sections.all.heading_size.options__1.label"
        },
        {
          "value": "h1",
          "label": "t:sections.all.heading_size.options__2.label"
        },
        {
          "value": "h0",
          "label": "t:sections.all.heading_size.options__3.label"
        },
        {
          "value": "hxl",
          "label": "t:sections.all.heading_size.options__4.label"
        },
        {
          "value": "hxxl",
          "label": "t:sections.all.heading_size.options__5.label"
        }
      ],
      "default": "h1",
      "label": "t:sections.all.heading_size.label"
    },
  ],
  "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "settings": [
        { "type": "image_picker", "id": "image_desktop", "label": "Desktop Image" },
        { "type": "image_picker", "id": "image_mobile", "label": "Mobile Image" },
        { "type": "text", "id": "alt_text", "label": "Alt Text" },
        { "type": "url", "id": "link", "label": "Link" }
      ]
    }
  ],
  "presets": [{ "name": "Custom Banner Slider" }]
}
{% endschema %}
